<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='Style_Home.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='Images/Icon.png') }}" type="png"> 
    <link href="https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"></script>
    <title>Easy Recycle</title>
   
</head>
<body>
    <header>
        <div class="header-left">
            <div id="menu-toggle" class="menu-icon">
                <svg id="hamburger-icon" width="40" height="31" viewBox="0 0 40 31" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M36.8421 25.0269C37.6531 25.0272 38.4328 25.2925 39.0198 25.7677C39.6067 26.2429 39.9558 26.8916 39.9948 27.5795C40.0338 28.2673 39.7596 28.9415 39.2291 29.4624C38.6986 29.9832 37.9525 30.3108 37.1453 30.3773L36.8421 30.3898H3.15789C2.34691 30.3894 1.56717 30.1242 0.980239 29.649C0.393308 29.1738 0.0441852 28.525 0.00521208 27.8372C-0.0337611 27.1494 0.240404 26.4752 0.770896 25.9543C1.30139 25.4334 2.04754 25.1058 2.85474 25.0394L3.15789 25.0269H36.8421ZM36.8421 12.5134C37.6796 12.5134 38.4829 12.7959 39.0751 13.2988C39.6673 13.8017 40 14.4837 40 15.1949C40 15.9061 39.6673 16.5881 39.0751 17.091C38.4829 17.5938 37.6796 17.8763 36.8421 17.8763H3.15789C2.32037 17.8763 1.51715 17.5938 0.924926 17.091C0.332706 16.5881 0 15.9061 0 15.1949C0 14.4837 0.332706 13.8017 0.924926 13.2988C1.51715 12.7959 2.32037 12.5134 3.15789 12.5134H36.8421ZM36.8421 0C37.6796 0 38.4829 0.282509 39.0751 0.785379C39.6673 1.28825 40 1.97029 40 2.68145C40 3.39262 39.6673 4.07465 39.0751 4.57752C38.4829 5.08039 37.6796 5.3629 36.8421 5.3629H3.15789C2.32037 5.3629 1.51715 5.08039 0.924926 4.57752C0.332706 4.07465 0 3.39262 0 2.68145C0 1.97029 0.332706 1.28825 0.924926 0.785379C1.51715 0.282509 2.32037 0 3.15789 0H36.8421Z" fill="#1B703E"/>
                </svg> 
            </div>
            <div class="logo">
                <a href="/home">
                    <img class="Logo_header" src="{{ url_for('static', filename='Images/Logo_escrita.svg') }}" alt="Logo">
                </a>
            </div>
        </div>
        <!-- Grupo esquerdo: menu + logo -->
        <aside class="sidebar" id="sidebar">
            <nav>
                <p class="topicos">Minha Jornada</p>
            <ul>
                <li><a href="/home">Minhas reciclagens</a></li>
                <li><a href="/home">Conteúdos informativos</a></li>
            </ul>
            <hr>
            <p class="topicos">Vizinhança</p>
            <ul>
                <li><a href="/Points">Pontos de reciclagens</a></li>
                <li><a href="/Classification">Classificação</a></li>
                <li><a href="/AddFriend">Adicionar amigos</a></li>
            </ul>
            <hr>
            <ul>
                <li><a href="/Graphics">Gráficos</a></li>
            </ul>
            </nav>
        </aside>
        

        <!-- Grupo direito: ícones -->
        <div class="header-icons">
            <svg class ="help"width="40" height="40" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.8333 0C4.85333 0 0 4.85333 0 10.8333C0 16.8133 4.85333 21.6667 10.8333 21.6667C16.8133 21.6667 21.6667 16.8133 21.6667 10.8333C21.6667 4.85333 16.8133 0 10.8333 0ZM11.9167 18.4167H9.75V16.25H11.9167V18.4167ZM14.1592 10.0208L13.1842 11.0175C12.4042 11.8083 11.9167 12.4583 11.9167 14.0833H9.75V13.5417C9.75 12.35 10.2375 11.2667 11.0175 10.4758L12.3608 9.11083C12.7617 8.72083 13 8.17917 13 7.58333C13 6.39167 12.025 5.41667 10.8333 5.41667C9.64167 5.41667 8.66667 6.39167 8.66667 7.58333H6.5C6.5 5.18917 8.43917 3.25 10.8333 3.25C13.2275 3.25 15.1667 5.18917 15.1667 7.58333C15.1667 8.53667 14.7767 9.40333 14.1592 10.0208Z" fill="#2E2D36"/>
            </svg>
            <svg class="Notification" width="40" height="40" viewBox="0 0 21 23" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18.7867 17.2857H20.7867V19.1905H0.786743V17.2857H2.78674V10.619C2.78674 8.59835 3.6296 6.66042 5.12989 5.23157C6.63018 3.80272 8.66501 3 10.7867 3C12.9085 3 14.9433 3.80272 16.4436 5.23157C17.9439 6.66042 18.7867 8.59835 18.7867 10.619V17.2857ZM7.78674 21.0952H13.7867V23H7.78674V21.0952Z" fill="#2E2D36"/>
                <circle cx="17" cy="4" r="4" fill="#EE4B4B"/>
              </svg>
              <img class="Profile" src="{{ url_for('static', filename='Images/Profile.jpg') }}" alt="Perfil">
        </div>
    </header>
    <main>
        <div id="btnAdicionar" class="Adicionar">
            <p>Adicionar</p>
            <p class="plus">+</p>
        </div>

    <!-- Overlay + Modal -->
        <div id="modalOverlay" class="overlay" style="display: none;">
        <div class="modal">
            <button id="fecharModal" style="
  position: absolute;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: none;
  border: none;
  font-size: 60px;  /* Aumentando o tamanho */
  font-weight: bold;
  cursor: pointer;
  color: #333;
  z-index: 1000;
  line-height: 0;
">
  ⌵
</button>

            <h2>Cadastro de Reciclagem</h2>
                <form id="formCadastro">
                    <label for="data">
                    <label for="categorySelect">Material:</label>
                    <div class="select-container"> 
                    <select id="categorySelect" name="category_id" required>
                      <option value="id">Selecione o item</option>
                      <!-- Opções serão carregadas aqui via JavaScript -->
                    </select>
                    </div>    
                    <label for="peso">Peso em gramas:</label>
                    <input id="peso" type="number" placeholder="Peso (g)" name="peso" required>
                    <label for="collection_point">Ponto de coleta:</label>
                    <div class="select-container">    
                    <select id="collection_point" name="collection_point" required>
                      <option value="id">Selecione o item</option>
                      <!-- Opções serão carregadas aqui via JavaScript -->
                    </select>
                    </div>
                    <button type="submit">Cadastrar</button>
                  </form>
        </div>
        </div>

        

        
{% if hoje %}
<h1>Hoje</h1>
    <div class="data-container">
        {% for linha in hoje %}
            <div class="data-box">
                <div class="category-header" data-color="{{ linha['color_hex'] }}">
                    <h3>{{ linha['category'] }}</h3>
                    <div class="score-container">+{{ linha['score'] }}</div>
                </div>
                <div class="content_card">
                    <p><strong>Ponto de Coleta: </strong>{{ linha['name'] }}</p>
                    <p><strong>Data da Reciclagem:</strong> {{ linha['date_recycle'] }}</p>
                    <p><strong>Peso do Item (kg):</strong> {{ linha['weight_item'] / 1000 }}</p>
                </div>    
            </div>
        {% endfor %}
    </div>
    <hr>
{% else %}
{% endif %}


{% if ontem %}
<h1>Ontem</h1>
    <div class="data-container">
        {% for linha in ontem %}
            <div class="data-box">
                <div class="category-header" data-color="{{ linha['color_hex'] }}">
                    <h3>{{ linha['category'] }}</h3>
                    <div class="score-container">+{{ linha['score'] }}</div>
                </div>
                <div class="content_card">
                    <p><strong>Ponto de Coleta: </strong>{{ linha['name'] }}</p>
                    <p><strong>Data da Reciclagem:</strong> {{ linha['date_recycle'] }}</p>
                    <p><strong>Peso do Item (kg):</strong> {{ linha['weight_item'] / 1000 }}</p>
                </div>    
            </div>
        {% endfor %}
    </div>
    <hr>
{% else %}
{% endif %}


{% if ainda_esta_semana %}
<h1>Ainda Esta Semana</h1>
    <div class="data-container">
        {% for linha in ainda_esta_semana %}
            <div class="data-box">
                <div class="category-header" data-color="{{ linha['color_hex'] }}">
                    <h3>{{ linha['category'] }}</h3>
                    <div class="score-container">+{{ linha['score'] }}</div>
                </div>
                <div class="content_card">
                    <p><strong>Ponto de Coleta: </strong>{{ linha['name'] }}</p>
                    <p><strong>Data da Reciclagem:</strong> {{ linha['date_recycle'] }}</p>
                    <p><strong>Peso do Item (kg):</strong> {{ linha['weight_item'] / 1000 }}</p>
                </div>    
            </div>
        {% endfor %}
    </div>
    <hr>
{% else %}
{% endif %}


{% if periodo_anterior %}
<h1>Período Anterior</h1>
    <div class="data-container">
        {% for linha in periodo_anterior %}
            <div class="data-box">
                <div class="category-header" data-color="{{ linha['color_hex'] }}">
                    <h3>{{ linha['category'] }}</h3>
                    <div class="score-container">+{{ linha['score'] }}</div>
                </div>
                <div class="content_card">
                    <p><strong>Ponto de Coleta: </strong>{{ linha['name'] }}</p>
                    <p><strong>Data da Reciclagem:</strong> {{ linha['date_recycle'] }}</p>
                    <p><strong>Peso do Item (kg):</strong> {{ linha['weight_item'] / 1000 }}</p>
                </div>    
            </div>
        {% endfor %}
    </div>
{% else %}
{% endif %}

    </main>
    <script src="{{ url_for('static', filename='Scripts/Script_Home.js') }}"></script>
</body>
</html>